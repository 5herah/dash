<div class="row">
	<div class="panel panel-purple">
        <div class="panel-heading">
	        <div class="btn-group btn-group-xs pull-right">
		        <button type="button" class="btn btn-default dropdown-toggle"><i class="fa fa-database"></i></button>
		        <button type="button" id="savedCharts" class="btn btn-default dropdown-toggle" data-toggle="dropdown" data-target="#XYsavedChart"><i class="fa fa-area-chart"></i> Saved charts...</button>
		        <ul class="dropdown-menu" role="menu" aria-labelledby="savedCharts" id="savedChartsMenu" data-bind="foreach: presetTitles, style: { width: '300px'}">
					<li data-bind="text: $data"></li>
				</ul>
	        </div>
        </div>



        <div class="panel-body">
            <div class="row">
            	<div class="col-md-2">

            		<div class="row-fluid">
                		<div class="well">
	                		<h4>Show:</h4>
	                		<select data-bind="options: ySlices, value: showSlice"></select>
	                	</div>
		            </div>
		            <div class="row-fluid">
                		<div class="well">
	                		<h4>By:</h4>
	                		<select data-bind="options: xSlices, value: bySlice"></select>
	                	</div>
	                </div>
	                <div class="row-fluid">
                		<div class="well">
	                		<button class="btn btn-block btn-info" data-toggle="modal" data-target="#XYfilterModal"><i class="fa fa-filter"></i> Narrow further....</button>
	                	</div>
	                </div>
	                <div class="row-fluid">
                		<div class="well">
	                		<button class="btn btn-block btn-success" data-bind="click: submitXY"><i class="fa fa-area-chart"></i> See chart </button>
	                	</div>
	                </div>

            	</div>

	            <div class="col-md-10">



	                <div class="row" id="specifiedXYchart">
	                	<div class="col-md-10">
		                    <span data-bind="if: !xyIsSetUp()">
		                    	<div class="row-fluid alert alert-danger" data-bind="style: { width: '100%', overflow: 'hidden'}">
			                    	<div class="col-md-1">
				                    	<h1><i class="fa fa-gears"></i></h1>
			                    	</div>
			                    	<div class="col-md-11">
				                    	<h3>This widget hasn't been set up yet.</h3>
				                    	<p>Choose display options to see the chart.</p>
				                    </div>
				                </div>
		                    </span>
	                		<div class="row-fluid" data-bind="if: xyIsSetUp">
			                    <h1 data-bind="text: title"></h1>
			                    <h4>Narrowed by:
				                    <span data-bind="foreach: chosenFilters">
				                    	 <span class='label label-success' data-bind="text: $data"></span>
				                    </span>
				                </h3>
			                </div>
		                    <canvas id='x-by-yChart' height="550" width="900"></canvas>
	                	</div>

	                	<div class="col-md-2 pull-right">
	                		<button class="btn-info"><i class="fa fa-bar-chart"></i></button>
	                		<button class="btn-info"><i class="fa fa-line-chart"></i></button>
	                		<button class="btn-info"><i class="fa fa-pie-chart"></i></button>
	                		<button class="btn-info"><i class="fa fa-table"></i></button>
	                	</div>
	                </div>
	            </div>

	        </div>

	    </div>
	</div>
</div>

<div class="modal fade" id="XYfilterModal">
	<div class="modal-dialog">
	    <div class="modal-content">
	        <div class="modal-header">
	            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
	            <h4 class="modal-title">Set up the chart!</h4>
	        </div>
	        <div class="modal-body">
		        <div class="row-fluid well">
		        	<label for="selectXYFilters">Additional filters to show:</label><br>
					<select multiple name="selectedXYFilters" id="selectXYFilters" class="filters" placeholder="Filters..." data-bind="options: filters, selectedOptions: chosenFilters"></select>
                </div>
                <div class="row-fluid well">
		        	<label for="startingTimeRange">Starting time range:</label><br>
					<select id="startingTimeRange" placeholder="Range..." data-bind="options: timeChoices"></select>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-success pull-right" data-dismiss="modal" data-bind="click: submitXY">Submit</button>
            </div>
	    </div>
	</div>
</div>

<div class="modal fade" id="XYsavedCharts">
	<div class="modal-dialog">
	    <div class="modal-content">
	        <div class="modal-header">
	            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
	            <h4 class="modal-title">Set up the chart!</h4>
	        </div>
	        <div class="modal-body">
		        <div class="row-fluid">
		        	<div class="col-md-12 well">
		        		<label>Show a saved chart:</label>
		                <div class="input-group">
		                    <select data-bind="options: presetTitles, value: title"></select>
		                </div>
	                </div>
	            </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-success pull-right" data-dismiss="modal">Submit</button>
            </div>
	    </div>
	</div>
</div>